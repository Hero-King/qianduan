<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <p>
        HashRouter 原理是读取url后面的hash值 点击标签注意观察 url变化

        <a href="#/a">a</a>
        <a href="#/b">b</a>
        <img src="a.jpg" id="wrapper"></src>
    </p>
    <p id="myp">
        BrowserRouter 原理是采用的html5 history Api 切换 点击之后,页面的url会变化 但是不触发加载操作
        <a onclick="push('/a')">a</a>
        <a onclick="push('/b')">b</a>

    </p>



    <script>
        console.log(location.hash);
        const wrapper = document.getElementById("wrapper")
        const myp = document.getElementById("myp")
        window.addEventListener("hashchange", () => {
            wrapper.src = location.hash.substring(2) + ".jpg"
        })

        function push(path) {
            // pushState(状态对象,title,url)
            history.pushState({ path }, null, path)
        }

        // 浏览器点击向前 向后触发
        // popstate
        // 当前活动历史项(history entry)改变会触发popstate事件。调用history.pushState()创建新的历史项(history entry) ，或调用history.replaceState()替换新的历史项(history entry) ，那么popstate事件的state属性会包含历史项(history entry)状态对象(state object)的拷贝。

        // 需要注意的是调用history.pushState()或history.replaceState()不会触发popstate事件。只有在做出浏览器动作时，才会触发该事件，如用户点击浏览器的回退按钮（或者在Javascript代码中调用history.back() ）
        window.addEventListener("popstate", () => {
            console.log(e)
        })

    </script>
</body>

</html>